#summary This is the change log history
=Shield Release Notes=

Versions are numbered in four levels, as follows:

  # The major version number, changes very infrequently
  # The minor version number, changes on a significant rewrite of a major part of the code
  # The sub-version (a letter), changes when the actual program code is altered in some minor way
  # The sub-sub-version, changes when the program data is modified or added to, for example when a new charge is added or a placement corrected.

=Version 2.2a3=

==Corrections==

Fixes for issues 6 & 7. Charges are now properly placed on *inverted*, *abased* or *enhanced* ordinaries. The semi-colon is correctly interpreted
as the end marker for each quarter of a *quartered* shield.

=Version 2.2a2=

==New Features==

You may place <strong>on</strong> an ordinary <strong>another</strong> of a different colour, which is equivalent to <strong>voided. </strong>Thus "azure, on a bend or another of the first" is a long way of saying "azure a bend voided or".

Charges may now be given a list of positions, so for example the shield of POTTOCK <strong>Azure, a saltire between in chief an arrow point upward argent, in the flaunches and base three hunting horns of the last</strong> is drawn correctly.

<strong>Swords</strong> and <strong>thistles</strong> may now be <strong>proper.</strong>

Up to 12 charges may be placed <strong>on a</strong> or <strong>in fess, pale or chief</strong> and they may be <strong>conjoined</strong>. Those that are <strong>in</strong> may also be <strong>throughout</strong>.

==Corrections==

Improved positioning of variant chevrons when a chief is present.

Charges arranged <strong>pilewise</strong> are also inverted.

<strong>tressures</strong> do not work at the moment.

==Internal Changes==

If a charge or ordinary was filled with a division the resulting SVG code (although valid) was not displayed by Safari and caused Chrome to crash. The program uses slightly different SVG if these browsers are detected. It doesn't always display correctly but at least it doesn't crash.

The charge placement logic has been moved from the PHP code into an XSLT transform based on the intermediate blazonML data structure. This means that charge placement can be made dependent on <em>any</em> feature(s) of the shield, so for example <strong>five mascles on a cross</strong> can be given a different placement to five other things on a cross, or any other arbitrarily complex set of conditions.

=Version 2.2a1=
==New Features==
Added the special ordinary <strong>ford (proper)</strong>

Added <strong>quarterly quartered</strong> as a synonym for <strong>gyronny of 8</strong> (a <strong>saltire</strong> of this looks particularly nice).

Added charge <strong>triangle {voided}</strong>.

==Corrections==

Divisions using bars, single diminutives and some charge positioning actions were broken. These have been fixed.

Instead of a drawing a specific charge for <strong>fountain</strong>, the parser replaces it with a <strong>roundel barry wavy of six argent and azure.</strong>

The internal size of the <strong>fret</strong> charge was wrong, causing it to be misplaced slightly.

=Version 2.2a0=
==New Features==

You can now place a charge *between* 2 to 5 other charges. For a charge between 2 others, they just form a line of 3; for the others, the main charge is drawn large and the others are drawn smaller, arranged around it. Quadrate (four equal armed) crosses are an exception, they may only be between 4 other charges and these are placed between the arms of the cross.

==Corrections==

I have clarified the _layering_ of ordinaries and charges on the field. In order, (lowest first) they are:

  # The field
  # All ordinaries and charges not mentioned elsewhere, in the order that they appear in the blazon. These are moved down and scaled if there is a chief present.
  # Any *chief* (+ associated charges thereon)
  # Any *cantons* (+ associated charges thereon)
  # Any *gyrons* (+ associated charges thereon)
  # Any marks of cadency (only *label* is supported at the moment, but more will be added)
  # (the debugging ordinary *grid* goes here)
  # Anything blazoned as *overall*

*Bevilled* lines were not being drawn correctly in some directions. This has been fixed.

I am working to improve variant lines in general, for example in *quarterly* some line variants now correctly meet in the centre, but others need more work. It is proving very difficult to find a general solution that correctly meets up all variant lines in all situations!

==Internal Changes==

I have separated the *parsing* (i.e. understanding) of the blazon from the drawing of it. The blazon is read and converted into a data structure (which happens to be based on XML) and the data structure is passed to a drawing routine which creates the shield image. This has a number of advantages:

  * More meaningful error messages and better error recovery
  * Ordinaries and charges can now be drawn _knowing_ exactly where they are in relation to all the other features of the shield, so they can sized and positioned appropriately (the previous versions did this to a certain extent but the method was a horrible mess of global variables).
  * In future, other output formats can be supported (in addition to SVG)

These changes have probably introduced a host of new bugs, and broken lots of things that used to work, but I'm sure it will be worth it in the end!

=Version 2.1.e4=

==New Features==

I've changed the error handling (again!). If an error is found a notification is displayed at bottom right of the shield. Clicking this will overlay detailed information. I've tried to add more detail in the error messages. Also, any program runtime errors are now reported as plain text. If you get a completely blank screen this usually means a program syntax error, which I can't trap but can look in my error logs - please e-mail me the offending blazon!

Added ordinaries *chief-couped-sinister* and *chief-couped-dexter*.

The *quarterly* division may have just the horizontal or vertical line type specified, e.g. *quarterly per fess dancetty azure and or*.

Added positions *in first|second|third|fourth quarter* (but not yet *in first and fourth quarters*, and they do not correctly respect a chief).

==Corrections==

Layout fixes for charges on a saltire and cross.

Fix for charge features that have a different *default* colour to the body.

A spurious error message was generated if the number of charges that could be arranged differed between shields with and without a charge (e.g. 6 charges fit on a full bend, but only 5 on a bend with a chief present - trying to place 6 charges on either generated the error). This has been fixed.

Corrected bounding boxes for couped fess, pale, bend and chief

The ordinaries *Cross* and *fillet cross* now respect the presence of a chief.

==Internal Changes==

The *box* debugging charge now displays the charge number instead of the word UP.

=Version 2.1e3=

==New Features==

Added ordinaries *chevron-debruised*, *chevron-couped*,  and *chevron-couched (sinister)*.

The *chevronny* division can now be *of 4|5|6|7|8* and can have line types applied.

==Corrections==

When placing diminutives *on* ordinaries the number was being ignored. This has been fixed.

I have changed the behaviour if the number of diminutives is not given - if the diminutive is singular,
one is drawn, if it is plural then four are drawn. e.g. *azure bars or* draws 4 bars.

Further variant spellings added.

=Version 2.1e2=

==New Features==

Added charges *heart-flammant*, *heart-crowned* and *flames of fire*,
*rainbow*.

Added arrangements *in fess throughout* and *in pale throughout* (which only work for charges that are stretchy!) Also *barwise*.

==Corrections==

*Nombril* was misspelt in the code, causing position *in nombril* to fail.

*Proper* is allowed as a tincture if a charge has a fixed colour (like fountain), i.e. you can now use *fountain* or *fountain proper*.

==Internal Changes==

The random blazon generator is now less dumb about picking colours. This has
<a href="/index.php?page=randomnotes">its own release notes</a>.

=Version 2.1e1=

==Internal Changes==

Minor tweaks to the javascript code mean that the program now displays correctly on
webkit based browsers (Chrome / Safari) and Opera.

As all site pages are now served as xhtml, the various shield applications have been
rewritten to avoid use of innerHTML.

=Version 2.1d1=

==New Features==

Most straight lines in divisions and ordinaries can now be drawn with all of
the variant line-types.

Ordinaries may be *voided* of a different tincture, e.g. *a fess or voided
vert*.

There have been a lot of changes to the layout algorithms.

Explanatory notes (title and desc elements) within the SVG have been improved,
as have the error messages.

Improved charge *arrow*, added *broad arrow*. Mullets may be *pierced
(voided)*.

Added ordinaries *gusset*graft [gusset in base]* and
*square flaunch*. Added fess, pale, bend, and chief  *lozengy*.
Most ordinaries may now be treble cotised and cotises may be drawn with line
types.

Added divisions *barry bendy (sinister)*barry invected, the one in the
other*barry pily (sinister). Barry, paly and bendy divisions may now have
the number specified, up to 20.

Added treatment *hurty*.

A new arrangment is available, 2 4 or 6 charges can be positioned *in (the) flank(s)*

Individual bars, palets or bendlets may now be given separate line types, e.g. *2 bars the lower engrailed or*. Can use
lower, upper, dexter, sinister, first, last, inner or outer on up to 8 of each.

Fess, pale, bars and palets may be *couped* (both ends) or *couped in
chief*couped in base* or *couped dexter / sinister* as appropriate.

Double clicking on the *create* button will draw the shield and display the
SVG in an alert box.

==Corrections==

Fountain works again...

I misinterpreted *(counter-)Compony* as a type of division, it is really a special form of treatment.
It can be applied properly only to the fess, bend, chief, tierce or pale. It all other cases it just looks like
*checky* only bigger.

Escutcheon as a charge was fixed.

A *baton* is sinister, so added a dexter baton (can also use *baton couped*, but this is redundant).

A *canton* is always on top of other charges. I've also made it bigger to match the chief and line up with a fess.

The default arrangement for 9 charges was incorrect, it should be 3-3-3.

*mascle* was too thin. This has been fixed.

The yellow in *pean* and *erminois* now matches *or*.

Fixed *Save as SVG* so it does not try to open a new window first.

==Internal Changes==

Variant shapes (e.g. those that change if they are inside a quartered field, like *bordure*) are
now implemented by an XSLT transform which selects the appropriate elements depending on their class
attributes - previously the program hacked
about with shape's internal SVG data. There is a longer discussion of this in the
<a href="?page=shielddoc">internal program documentation</a>.

In a similar fashion, those things that change position when a chief is present are now also
implemented through the use of XSLT transforms. There is no longer any distorting *squashing* of ordinaries
and charges to fit beneath a chief, sizes and positions are re-calculated if a chief is present.

The debugging ordinary *grid* is clearer, sits on top of the chief and now honours the requested colour.

The SVG is now in-line with the HTML (previously it was inside an <object> tag). When pressing the create button
an AJAX request replaces the in-line SVG. This gets around a bug in Firefox 3.6
(<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=521569">Bug 521569</a>) in which object contents are not loaded.

=Version 2.1c1=

==New Features==

Major page reorganisation to add the new shield test and shield builder pages and separate
the random shield generator

==Internal Changes==

The empty shield shown at the start is now generated by sending an empty blazon
(previously it was a separate file).

Fountain doesn't work at the moment...

==Corrections==

The letter 'c' was missing.

Can now separate row numbers by *and* or commas, e.g. as in _4 roundels 2, 2 and 1 or_
=Version 2.1b2=

==New Features==

Added some bends and per-bends with line type modifiers, more to come.

Quick reference page now more compact.

==Corrections==

Fess embattled was too narrow. Redrew treatments honeycombed, scaly, crusily and maily but
the last still needs more work.
=Version 2.1b1=

==New Features==

Added charges *bear's head {tongued} {muzzled}*stag's head*,
*tiger {tongued} {armed}*unicorn {tongued} {armed}*

==Internal Changes==

Added a key to charge feature *notpresent* which is used as an alternate
body if the feature is not mentioned in the blazon. If left blank, the feature is not drawn
unless explicitly mentioned in the blazon.

=Version 2.1a2=

==New Features==

Added charges *bee*, *tower*,  *arch*,  *altar*

Added an ordinary called *grid* which draws a grid over the shield to help with
debugging placement issues.

Created a page for some of the <a href="?page=shielddoc">internal program documentation</a>.

==Corrections==

Reorganised the list of charges in <a href="?page=shieldref">the reference page</a>

=Version 2.1a1=

==New Features==

charges may be *charged with* other charges. Charge placement is not always sensible,
but can be adjusted per charge - let me know!

An ordinary *on* a canton or a chief is scaled to fit, on all other ordinaries it is
superimposed (as before).

Added *pendent* as a synonym for *inverted* (which it isn't strictly, but
the effect is usually the same), added some synonyms of *paty* / *formy*.

Added *engrailed*, *angled*, *bevilled*, *embattled*
*potenty*, *escartelly*, as bar types.

The arrangment or placement may now be in front of the charges, between the charges
and their colour or after
the colour. This creates an ambiguity in, for exampleAzure a crown or in chief 3 pommes*.
Which charge is in chief? The program assumes that it is the first mentioned charge, unless a comma
is present after the *or*

Added charge *dove*, which may be proper.

Bordures and tressures now respect their enclosing spaces when quartered or impaled.
Double tressures still to do

*Bug Fixes*

You could place charges *on* an ordinary or *between* and ordinary, but not
both. This has been fixed.

==Corrections==

All quadrate crosses have been redrawn and work correctly when coloured by divisions, furs or
treatments.

Redrawn crescent, and cross paty / formy

I am still in the process of redrawing all divisions and ordinaries with variant line types.
So far, all *per fess*per pale* and *chief* are finished,
*fess* and *tierce* are almost complete, others only have the basic shape.

==Internal Changes==

Uses clipping paths instead of masks in marshalled shields.

Charges are now only oriented to the bend, saltire and chevron if they are marked as such
in their meta-data.

=Version 2.1=

This was a fairly major internal rewrite which added some features and probably broke quite
a few existing ones... The main changes are:

  * Improved SVG compatibility - I have tried to conform with Jonathan Watt's
*<a href="http://jwatt.org/svg/authoring/">SVG Authoring Guidelines</a>*, although I
still have some tidying up to do on some charges. The Petre shield now renders on Safari if downloaded, although
my whole site looks awful! I must look into this...
  * Rewrote the colour code so everthing is now either a plain fill or a pattern fill. This means that
all charges and ordinaries can be coloured with furs, treatments, divisions or just plain colours.
  * I am in the process of removing where possible the svg *use* element. It makes the consistent use of
patterns difficult and Mozilla bug 467498 means that they don't always work correctly in Firefox anyway.
  * Similarly to the above I am trying to remove situations where one division or ordinary is scaled, rotated and
transformed to become another (e.g. originally *per bend* was *per fess*
made longer and rotated 45 degrees). It makes use of patterns difficult and doesn't always give good results so
I am redrawing most of these. Many of the shapes using different line types like *arched* remain to be
done.

==Corrections==

Quarters 3 & 4 in a quartered shield were the wrong way around.

Placement of 4 items on a cross corrected.

The plain cross as a charge was missing a path data point.

Saltire and Per chevron have been redrawn correctly.

Bordures on a quartered shield now follow the border of their respective quarter.

Order of colours on pily and pily-bendy have been corrected.

Pily bendy with a chief - the points nearly but don't quite meet the edge. This needs to work like
Bordure and be aware of the enclosing space.

==Known Problems==

Can only use plain colours on Quadrate crosses (they need to be redrawn to avoid *use* elements)

Tressure and double tressure need to work like bordure in quartered shields.

=Version 2.0c1=

==Corrections==

The divisions *pily-bendy* and *pily-bendy sinister* were redrawn to correctly match
up with the edge of the shield. The ordinaries *Cross*Cross quarter pierced*Cross
parted and fretty*Cross tripartite and fretty* and their associated cotised and voided versions
contained an arithmetic error that drew them too high up. This has been corrected. Thanks to JimB for
noting these.

==New Features==

Added charges - trefoil

Some additional alternate spellings have been added.

=Version 2.0c=

==New Features==

Added letters, digits, words and numbers. Single letters and digits are drawn in a monogram, gothic style based on the font
*Verzierte Schwabacher* available from
<a href="http://www.dafont.com*>www.dafont.com"</a>.

==Internal Changes==

Case in the Blazon is now preserved internally, so be careful in string comparisons!

Identified the problem when some charges are coloured using a division, to do with SVG translations while they being drawn. I am
working through existing charges to remove the translations.

=Version 2.0b=

*Release 2.0b5*

Re-designed *fret* so it looks better when fimbriated, added *fret couped* and allow the use of *fret*
as a charge. For Corwyn, of (surprise, surprise) Green Fret Consulting.

*Release 2.0b4*

Rewritten error handling - was using a PHP5 feature not supported by live host, curse you Yahoo!

*Release 2.0b3*

New Features:

Added the word *arranged*, optionally before specifying the arrangement of
charges by rows. Can also separate numbers by commas and *and*.

Allowed *ppr* as a synonym for proper.

The colour definitions have been changed to match those at
<a href="http://commons.wikimedia.org/wiki/User_talk:Phlegmatic">
http://commons.wikimedia.org/wiki/User_talk:Phlegmatic</a>, and all the
colours in that list can now be used. Thanks to Corwyn for inspiring this one.

Any charge can be prefixed by *demi* to produce just half of the charge
(the top half of animals, the left half of objects). Thanks to Alex for
suggesting this one.

Bug Fixes:

Fixed *mullet* so correctly parses, e.g. *Mullet of six of the same*.

The *ermine* type furs have been re-drawn to better match the examples in
Boutell's Heraldry and other sources. Thanks to Corwyn for pointing this out.

*Release 2.0b2*

*lozengy* was implemented as a division, it should have been a treatment. Thanks to Iwain for pointing this out.

*Release 2.0b1*

New Features:

All ordinaries can now be given a division as a colour. If appropriate,
the division is scaled to fit inside the ordinary.
(EXPERIMENTAL) Charges may also be given a division as a colour, but
this does not always work!
Added divisions pily bendy and pily bendy sinister.


Internal changes:

Clarified the meaning of _palewise_ and _fesswise_.
Firstly, if the charge has metadata `turn_fesswise` or `turn_palewise` the
boolean value of this determines whether the charge is turned. If there is
no metadata, the charge aspect ratio is used, i.e. a tall charge is turned
if described as _fesswise_ but NOT turned if described as _palewise_.

=Version 2.0a=

This was a complete re-write to use SVG graphics (earlier versions used GD bitmapped graphics built into PHP). All earlier
features were preserved and many new ones added. The random shield generator was also rewritten.

=Version 1.1c=

Further additions to charge placement, e.g. PILEWISE and IN PILE and BETWEEN works for a
few ordinaries now (more to be added).

Improved input handling, words in brackets ignored, hash to indicate end of input.

Added ordinaries to the random shield generator.

=Version 1.1b=

Confirmed that all crosses work (except cross formy throughout which needs to be
re-drawn)

Added *crosslet(s)* as a synonym for cross but only when referring to a
cross as a charge, not as an ordinary

Added error handler to return PHP error message in an image, and improved display of
internal errors.

Positions (*in dexter side* etc.) now work for all charges, and are ignored
if the charges are explicitly positioned elsewhere (e.g. *on* or
* between* ordinaries).

Clarified meaning of *same, last, first and field*, see shield information
page for details.

Fixed artifacts on shield when chief is present (used resize, not resample)

=Version 1.1a=

All colours, heraldic and modern

All furs

All field treatments, including semy of _charge_

Back references (but not with treatments!)

Counterchanged

All divisions (some modifiers give silly results but that is mostly a case of *garbage-in,
garbage-out*)

The diminutives

All ordinaries (most modifiers work on most ordinaries, as above where it doesn't work it
probably isn't sensible to ask for it anyway)

Line types on divisions (NOT ordinaries)

One ordinary ON another

Charges and charge arrangement is incomplete and may not work

Marshalling works but needs improvement to take account of the different shapes of partial
shields. Dimidiated works best!